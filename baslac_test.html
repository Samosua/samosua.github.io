<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>20-24 baslac</title>

        <script language="JavaScript" type="text/javascript">

            var nbases = 5 ; /*Кількість компонентів*/
            var bname = [ "20-24", "20-34", "30-M00", "50-10", "60-10" ] ; /*Самі компоненти*/
            var de = [ 1.637, .987, 1.006, 1.131, 1.008]; /*Питома вага компонентів*/
            var mcoef1l = [ 1067.6064416456, 71.173762776371, 175.08745642987, 65.479861754261, 44.12773292135 ] ;/* */
            var mcoef1lcum = [ 1067.6064416456, 1138.7802044219, 1313.8676608518, 1379.3475226061, 1423.4752555274 ] ;/* */
            var mcoef1kg = [ 750, 50, 123, 46, 31 ] ; /*Рецепт на 1 кг абсолют */
            var mcoef1kgcum = [ 750, 800, 923, 969, 1000 ] ; /* Рецепт на 1 кг накопичувальна */
            var dens = 1.4234752555274; /*Середня питома вага рецепту */
            var warnLimit = 0.15 ;  // Попереджати межу для низького обсягу цілі (ltr / kg)
            var warnText = "Вибрана маленька кількість. Точність суміші може бути порушена!";

   /*
    *      Обчислити нові суми та встановити у полях таблиці (за допомогою ідентифікатора)
    */          function calcAmounts()  {

                        var val1, val2, val1str, val2str, dummy;

                        // виконати округлення 
                        document.frm1.targname.value = Math.round(document.frm1.targname.value * 100)/100;

                        // Перевірте цільове значення
                        if ( document.frm1.targname.value < 0.0 )  {
                                document.frm1.targname.value = (document.frm1.targname.value)*(-1.0);
                        }

                        checkWarnLimit();

                        if ( document.frm1.targname.value == 0 )  {
                                document.frm1.targname.value = warnLimit ;
                        }

                        for ( i=0; i< nbases; i++) {
                                if ( document.m5prntfrm.unit.value == 'ltr') {
                                        val1 = Math.round(mcoef1l[i]*document.frm1.targname.value*10 )/10 ;
                                }
                                else {
                                        val1 = Math.round(mcoef1kg[i]*document.frm1.targname.value*10 )/10 ;
                                }
                                val1str = " " + val1;
                                if (val1str.indexOf(".") < 0) {
                                        val1str=val1str + ".0";
                                }
                                dummy = document.getElementById('B_'+bname[i]);
                                dummy.innerHTML= val1str ;

                                if ( document.m5prntfrm.unit.value == 'ltr') {
                                        val2 = Math.round(mcoef1lcum[i]*document.frm1.targname.value*10 )/10 ;
                                }
                                else {
                                        val2 = Math.round(mcoef1kgcum[i]*document.frm1.targname.value*10 )/10 ;
                                }
                                val2str = " " + val2;
                                if (val2str.indexOf(".") < 0) {
                                        val2str=val2str + ".0";
                                }
                        }       
                }   
                          
                function radioUnitClicked(p_obj)  {
                          document.m5prntfrm.unit.value = p_obj.value ;
                          calcAmounts();
                        }

                function checkWarnLimit() {
                  var myObj = document.getElementById('msgdiv');
                  if (myObj != null) {
                    if ( document.frm1.targname.value < warnLimit )  {
                      myObj.innerHTML= warnText;
                    }
                    else {
                      myObj.innerHTML="&nbsp;";
                    }
                  } else {
                    alert('msgdiv lost');
                  }
                }
        </script>
  <style type="text/css">
    TABLE {
         width: 300px; /* Ширина таблицы */
         border-collapse: collapse; /* Убираем двойные линии между ячейками */
         border: 2px solid white; /* Прячем рамку вокруг таблицы */
        }
    TD, TH {
         border: 1px solid grey; /* Параметры рамки */
        }
  </style>
  
</head>
<body>
<center>
<p style="font-family: Arial, Helvetica, sans-serif; font-size: 25px;">Грунт-наповнювач baslac 20-24</p>
<form name="frm1" onsubmit="javascript:calcAmounts();return(false);">
 <table border="0"  cellpadding="5" cellspacing="0"  valign="top" style="font-family: Arial, Helvetica, sans-serif; font-size: 25px;">
    <thead>
        <tr>
            <td>Необхіднo</td>
            <td>
			    <input type="text" id="targid" name="targname" class="m5copdet_input" size="15" value="1.0" onkeypress="checkKeycode(event);" onchange="javascript:calcAmounts();return(false);">
			</td>
        </tr>

    </thead>
    <tbody>
        <tr>
          <th align="left">Компонент</th>
          <th align="right">
		    <input type="radio" name="unit" value="ltr" onclick="radioUnitClicked(this);" checked="checked"><span>Л</span>
		    <input type="radio" name="unit" value="kg"  onclick="radioUnitClicked(this);"><span>кг</span>
		  </th>
        </tr>		
        <tr>
		    <td nowrap> 20-24 </td>
		    <td id="B_20-24" align="right">1067.6</td>
		</tr> 		
        <tr>
		    <td nowrap> 20-34 </td>
		    <td id="B_20-34" align="right">71.2</td>
		</tr> 		
        <tr>
		    <td nowrap> 30-M00 </td>
		    <td id="B_30-M00" align="right">175.1</td>
		</tr> 		
        <tr>
		    <td nowrap> 50-10 </td>
		    <td id="B_50-10" align="right">65.5</td>
		</tr> 		
        <tr>
		    <td nowrap> 60-10 </td>
		    <td id="B_60-10" align="right">44.1</td>
		</tr> 
     </tbody>
</table>
</form>

   <div id="msgdiv">&nbsp;</div>
<form name="m5prntfrm">
  <input type="hidden" name="unit" value="ltr" >
</form>   
   
</center>



</body>
</html>
